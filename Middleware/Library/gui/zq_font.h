//
// Created by fairy on 2025/4/9 13:04.
//
#ifndef ZQ_FONT_H
#define ZQ_FONT_H
#include <cstring>
#include<zq_conf.h>

namespace GUI
{
    namespace Font
    {
        // 字模结构体（包含字符名称、宽度、高度和字模数据）
        typedef struct
        {
            const char *name; // 字符名称（如"8"、"中"）
            int width; // 字符宽度（像素）
            int height; // 字符高度（像素）
            const uint16_t *data; // 字模数据指针
        } FontChar;

        const FontChar font_table[] = {
            // 数字"0"
            {
                .name = "0",
                .width = 8,
                .height = 16,
                .data = (const uint16_t[]){
                    0x00, 0x00, 0x00, 0x18, 0x24, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x24, 0x18, 0x00, 0x00
                }
            },
            // 数字"1"
            {
                .name = "1",
                .width = 8,
                .height = 16,
                .data = (const uint16_t[]){
                    0x00, 0x00, 0x00, 0x10, 0x1C, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x7C, 0x00, 0x00
                }
            },
            // "大"
            {
                .name = "大",
                .width = 16,
                .height = 16,
                .data = (const uint16_t[]){
                    0x80, 0x80, 0x80, 0x80, 0x80, 0xFF, 0x80, 0x80, 0x40, 0x40, 0x20, 0x20, 0x10, 0x08, 0x04, 0x03,
                    0x00, 0x00, 0x00, 0x00, 0x00, 0x7F, 0x00, 0x00, 0x01, 0x01, 0x02, 0x02, 0x04, 0x08, 0x10, 0x60
                }
            },
            // "家"
            {
                .name = "家",
                .width = 12,
                .height = 12,
                .data = (const uint16_t[]){
                    0x40, 0x80, 0xFE, 0x02, 0x01, 0xFE, 0x40, 0xB0, 0x8E, 0x40, 0x30, 0x8E, 0x60, 0x18, 0x47, 0x80,
                    0x00, 0x00, 0x7F, 0x40, 0x20, 0x3F, 0x00, 0x10, 0x09, 0x05, 0x03, 0x05, 0x19, 0x61, 0x01, 0x00
                }
            },
        };

        // 行列式，逆向你做得
        const uint16_t font_16x16[][16] = {
            {0x00, 0x00, 0x00, 0x18, 0x24, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x24, 0x18, 0x00, 0x00}, /*"0",0*/

            {0x00, 0x00, 0x00, 0x10, 0x1C, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x7C, 0x00, 0x00}, /*"1",1*/

            {0x00, 0x00, 0x00, 0x3C, 0x42, 0x42, 0x42, 0x40, 0x20, 0x10, 0x08, 0x04, 0x42, 0x7E, 0x00, 0x00}, /*"2",2*/

            {0x00, 0x00, 0x00, 0x3C, 0x42, 0x42, 0x40, 0x20, 0x18, 0x20, 0x40, 0x42, 0x42, 0x3C, 0x00, 0x00}, /*"3",3*/

            {0x00, 0x00, 0x00, 0x20, 0x30, 0x30, 0x28, 0x24, 0x24, 0x22, 0xFE, 0x20, 0x20, 0xF8, 0x00, 0x00}, /*"4",4*/

            {0x00, 0x00, 0x00, 0x7E, 0x02, 0x02, 0x02, 0x1E, 0x22, 0x40, 0x40, 0x42, 0x22, 0x1C, 0x00, 0x00}, /*"5",5*/

            {0x00, 0x00, 0x00, 0x18, 0x24, 0x02, 0x02, 0x3A, 0x46, 0x42, 0x42, 0x42, 0x44, 0x38, 0x00, 0x00}, /*"6",6*/

            {0x00, 0x00, 0x00, 0x7E, 0x42, 0x20, 0x20, 0x10, 0x10, 0x08, 0x08, 0x08, 0x08, 0x08, 0x00, 0x00}, /*"7",7*/

            {0x00, 0x00, 0x00, 0x3C, 0x42, 0x42, 0x42, 0x24, 0x18, 0x24, 0x42, 0x42, 0x42, 0x3C, 0x00, 0x00}, /*"8",8*/

            {0x00, 0x00, 0x00, 0x1C, 0x22, 0x42, 0x42, 0x42, 0x62, 0x5C, 0x40, 0x40, 0x24, 0x18, 0x00, 0x00}, /*"9",9*/

            {0x80, 0x80, 0x80, 0x80, 0x80, 0xFF, 0x80, 0x80, 0x40, 0x40, 0x20, 0x20, 0x10, 0x08, 0x04, 0x03},
            {0x00, 0x00, 0x00, 0x00, 0x00, 0x7F, 0x00, 0x00, 0x01, 0x01, 0x02, 0x02, 0x04, 0x08, 0x10, 0x60}, /*"大",10*/

            {0x40, 0x80, 0xFE, 0x02, 0x01, 0xFE, 0x40, 0xB0, 0x8E, 0x40, 0x30, 0x8E, 0x60, 0x18, 0x47, 0x80},
            {0x00, 0x00, 0x7F, 0x40, 0x20, 0x3F, 0x00, 0x10, 0x09, 0x05, 0x03, 0x05, 0x19, 0x61, 0x01, 0x00}, /*"家",11*/

        };


        // 字模表大小（字符数量）
        const uint16_t font_table_size = sizeof(font_table) / sizeof(font_table[0]);

        // 根据名称查找字符
        inline const FontChar *find_char_by_name(const char *name)
        {
            for (int i = 0; i < font_table_size; i++)
            {
                if (strcmp(font_table[i].name, name) == 0)
                {
                    return &font_table[i];
                }
            }
            return nullptr; // 未找到
        }
    }
}


#endif //ZQ_FONT_H
